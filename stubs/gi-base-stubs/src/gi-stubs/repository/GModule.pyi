# pyright: reportIncompatibleMethodOverride=false
# pyright: reportIncompatibleVariableOverride=false
"""
Stub template for a GI Repository Module.

Generated by gi-stub-gen, version 0.0.1.
Module: GModule
Date: 2025-12-24
"""
# we disable override report for pyright in generated stubs,
# causes too many false positives

from __future__ import annotations
from typing_extensions import deprecated  # noqa: F401
import typing_extensions  # noqa: F401
import gi  # noqa: F401

import enum
import _thread

# gi.repository imports needed by this Stub
from gi.repository import GObject
###############################################################
# Functions
###############################################################

def module_build_path(
    directory: str | None,
    module_name: str,
) -> str:
    """
    A portable way to build the filename of a module. The platform-specific
    prefix and suffix are added to the filename, if needed, and the result
    is added to the directory, using the correct separator character.

    The directory should specify the directory where the module can be found.
    It can be %NULL or an empty string to indicate that the module is in a
    standard platform-specific directory, though this is not recommended
    since the wrong module may be found.

    For example, calling g_module_build_path() on a Linux system with a
    @directory of `/lib` and a @module_name of "mylibrary" will return
    `/lib/libmylibrary.so`. On a Windows system, using `\\Windows` as the
    directory it will return `\\Windows\\mylibrary.dll`.
    """
    ...

def module_error() -> str:
    """
    Gets a string describing the last module error.
    """
    ...

def module_error_quark() -> int: ...
def module_supported() -> bool:
    """
    Checks if modules are supported on the current platform.
    """
    ...

###############################################################
# Enums/Flags
###############################################################

class ModuleError(enum.IntEnum):
    """
    Errors returned by g_module_open_full()."""

    FAILED = 0
    """
    there was an error loading or opening a module file
    """
    CHECK_FAILED = 1
    """
    a module returned an error from its `g_module_check_init()` function
    """

class ModuleFlags(enum.IntFlag):
    """
    Flags passed to g_module_open().
    Note that these flags are not supported on all platforms."""

    LAZY = 1
    """
    specifies that symbols are only resolved when
        needed. The default action is to bind all symbols when the module
        is loaded.
    """
    LOCAL = 2
    """
    specifies that symbols in the module should
        not be added to the global name space. The default action on most
        platforms is to place symbols in the module in the global name space,
        which may cause conflicts with existing symbols.
    """
    MASK = 3
    """
    mask for all flags.
    """

###############################################################
# classes
###############################################################

class Module(GObject.GPointer):
    # gi Methods
    def __init__(self) -> None:
        """
        Generated __init__ stub method. order not guaranteed.
        """
    @deprecated("deprecated")
    @staticmethod
    def build_path(directory: str | None, module_name: str) -> str: ...
    def close(self) -> bool: ...
    @staticmethod
    def error() -> str: ...
    @staticmethod
    def error_quark() -> int: ...
    def make_resident(self) -> None: ...
    def name(self) -> str: ...
    @staticmethod
    def supported() -> bool: ...
    def symbol(self, symbol_name: str) -> tuple[bool, object | None]: ...

    ...

###############################################################
# Aliases
###############################################################

_lock = _thread._lock  # type: ignore
###############################################################
# Constants
###############################################################

MODULE_IMPL_AR: int = ...
MODULE_IMPL_DL: int = ...
MODULE_IMPL_NONE: int = ...
MODULE_IMPL_WIN32: int = ...
_namespace: str = ...
_version: str = ...
###############################################################
# Unknowns/Not Parsed
###############################################################
